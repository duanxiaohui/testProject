(function(){var b={setup:0,type:"company"};function l(m){var n=$("#js-setup_"+m);if(n.length===0){return c();}a(m-1);if(b.setup!=m){return window.location.hash=b.setup;
}$(".setup").addClass("none");n.removeClass("none");}function a(n){var m=false;switch(n){case 0:m=true;break;case 1:m=j();break;case 2:m=i();break;case 3:m=h();
break;case 4:m=f();break;}b.setup=m?n+1:n;}function c(){console.log("save data");}function j(){return true;if(b.type==="company"){b.companyName=$("#companyName").val();
if(b.companyName==""){return false;}b.contact=$("#contact").val();if(b.contact==""){return false;}b.idCard=$("#idCard").val();if(b.idCard==""||!m(b.idCard)){return false;
}b.tel=$("#tel").val();if(b.tel==""||!/^(13[0-9]|14[0-9]|15[0-9]|18[0-9])\d{8}$/i.test(b.tel)){return false;}return true;}if(b.type==="personal"){b.contactP=$("#contact_p").val();
if(b.contactP==""){return false;}b.idCardP=$("#idCard_p").val();if(b.idCardP==""||!m(b.idCardP)){return false;}b.telP=$("#tel_p").val();if(b.telP==""||!/^(13[0-9]|14[0-9]|15[0-9]|18[0-9])\d{8}$/i.test(b.telP)){return false;
}return true;}function m(p){var o=false;if(p.length==15){if(p.search(/^[1-9]\d{7}((0[1-9])|(1[0-2]))(([012]\d)|3[0-1])\d{3}$/)!=-1){o=true;}else{o=false;
}}else{if(p.length==18){if(p.search(/^[1-9]\d{5}[1-2]\d{3}((0[1-9])|(1[0-2]))(([012]\d)|3[0-1])((\d{4})|\d{3}[Xx])$/)!=-1){var t=new Array("7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2");
var s=new Array("1","0","X","9","8","7","6","5","4","3","2");var r=11;var n=0;for(var q=0;q<17;q++){n=parseInt(p.charAt(q))*parseInt(t[q])+n;}r=parseInt(n)%11;
if(p.charAt(17).toUpperCase()==s[r]){o=true;}else{o=false;}}else{o=false;}}}return o;}}function i(){return true;b.calendarName=$("#calendarName").val();
if(b.calendarName==""||b.calendarName.replace(/[^\x00-\xff]/g,"**").length>20){return false;}return true;}function h(){return true;}function f(){return true;
}$(".js-next").on("click",function(){window.location.hash=b.setup+1;});$(window).on("hashchange",function(){var m=window.location.hash.substr(1);l(m);});
(function(){var q=$("#js-face-file");var o=false;var s={x:0,y:0};var p={min:0,max:0};var n=false;var r={x:0,y:0};var m={min:0,max:0};$("#js-setup_3").on("click.selectImg.s3",".avatar_img",function(t){if(q.val()!==""){return false;
}return q.val("").click();}).on("change.s3","#js-face-file",function(x){x=x||window.event;var u=document.getElementById("js-face-img");var w=x.target||x.srcElement;
var v=w.files||x.dataTrasfer.files;var t=new FileReader();t.onload=function(y){u.src=this.result;e(u);};t.readAsDataURL(v[0]);$("#js-bg-img").css("cursor","move");
}).on("mousedown.s3",".scroll_btn",function(v){if(q.val()===""){o=false;return false;}var t=d(v);var w=this;var u=$(w);s.x=t.x-w.offsetLeft;s.y=t.y-w.offsetTop;
p.max=u.next()[0].offsetLeft-u.width();p.min=u.prev()[0].offsetLeft+u.prev().width();w.style.left=w.offsetLeft+"px";w.style.top=w.offsetTop+"px";w.style.margin=0;
o=true;if(v.preventDefault){v.preventDefault();v.stopPropagation();}$(document).on("mouseup.s3",function(x){o=false;s.x=0;s.y=0;return false;}).on("mousemove.s3",function(y){if(!o){return false;
}if(document.all){y.returnValue=false;}var x=d(y);var z=Math.max(Math.min(x.x-s.x,p.max),p.min);w.style.left=z+"px";k(document.getElementById("js-face-img"),(z-p.min)/(p.max-p.min));
});}).on("mousedown.moveImg.s3","#js-face-img",function(v){if(q.val()===""){n=false;return false;}var t=d(v);var w=this;var u=$(w);r.x=t.x-w.offsetLeft;
r.y=t.y-w.offsetTop;p.max=u.next()[0].offsetLeft-u.width();p.min=u.prev()[0].offsetLeft+u.prev().width();w.style.left=w.offsetLeft+"px";w.style.top=w.offsetTop+"px";
w.style.margin=0;n=true;if(v.preventDefault){v.preventDefault();v.stopPropagation();}$(document).on("mouseup.s3",function(x){n=false;s.x=0;s.y=0;return false;
}).on("mousemove.s3",function(y){if(!n){return false;}if(document.all){y.returnValue=false;}var x=d(y);var z=Math.max(Math.min(x.x-s.x,p.max),p.min);w.style.left=z+"px";
k(document.getElementById("js-face-img"),(z-p.min)/(p.max-p.min));});});})();function e(o){var u=$(o.parentNode);var s=u.width();var v=u.height();var n=o.width;
var r=o.height;if(n>r){o.height=v;}else{o.width=s;}n=o.width;r=o.height;var q=(v-r)/2;var m=(s-n)/2;o.style.left=m+"px";o.style.top=q+"px";o.setAttribute("data-width",n);
o.setAttribute("data-height",r);o.setAttribute("data-left",m);o.setAttribute("data-top",q);}function k(o,r){var n=o.getAttribute("data-width");var q=o.getAttribute("data-height");
var s=n*(+r+1);o.width=s;var m=o.getAttribute("data-left")-(s-n)/2;var p=o.getAttribute("data-top")-(o.height-q)/2;o.style.left=m+"px";o.style.top=p+"px";
}function g(m){var n={x:0,y:0};if(typeof m=="undefined"||m==null){return n;}if(m.offsetParent){while(m.offsetParent){n.y+=parseInt(m.offsetTop);n.x+=parseInt(m.offsetLeft);
m=m.offsetParent;}}else{if(m.x){n.x+=m.x;}else{if(m.y){n.y+=m.y;}}}return n;}function d(m){m=m||window.event;if(m.pageX||m.pageY){return{x:m.pageX,y:m.pageY};
}if(document.documentElement&&document.documentElement.scrollTop){return{x:m.clientX+document.documentElement.scrollLeft-document.documentElement.clientLeft,y:m.clientY+document.documentElement.scrollTop-document.documentElement.clientTop};
}else{if(document.body){return{x:m.clientX+document.body.scrollLeft-document.body.clientLeft,y:m.clientY+document.body.scrollTop-document.body.clientTop};
}}}(function(){var m=$("#js-bg-file");$("#js-setup_4").on("click.s4",".avatar_img",function(n){return m.val("").click();}).on("change.s4","#js-bg-file",function(q){var o=document.getElementById("js-bg-img");
var p=q.target.files||q.dataTrasfer.files;if(window.webkitURL){o.src=window.webkitURL.createObjectURL(p[0]);}else{if(window.URL){o.src=window.URL.createObjectURL(p[0]);
}else{var n=new FileReader();n.onload=function(r){o.src=this.result;};n.readAsDataURL(p[0]);}}});})();tabsDom({tabsSel:"on",callBack:function(n,m){b.type=$(n).attr("data-type");
}});$(function(){if(window.location.hash.substr(1)==3){l(3);}else{window.location.hash=3;}});})();